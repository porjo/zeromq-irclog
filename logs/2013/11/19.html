<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Zeromq-irclog : IRC Log repository for ZeroMQ" />

    <link rel="stylesheet" type="text/css" media="screen" href="/zeromq-irclog/stylesheets/stylesheet.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.1.0/moment.min.js"></script>

    <title>Zeromq-irclog</title>

    <style>
	    #msgtablediv {
		margin-left: 20px;
		margin-right: 20px;
	    }
	    #msgtable {
		    width: 100%;
		    border: 0;
		    padding: 0;
	    }
	    #msgtableHead {
		    font-weight: bold;
	    }
	    #msgtable td {
		    border: 0;
		    margin: 0;
		    padding: 0px 5px 0px 5px;
	    }
	    .timetd {
		    width: 60px;
	    }
	    #msgtable td.nicktd {
		    width: 100px;
		    text-align: right;
		    border-right: 1px #555 dashed;
		    font-weight: bold;
	    }
	    .light {
		    background-color: #ccc;
	    }
	    .dark {
		    background-color: #eee;
	    }
    </style>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
	  <a href="/zeromq-irclog/index.html"><h1 id="project_title">Zeromq-irclog</h1></a>
          <h2 id="project_tagline">IRC Log repository for ZeroMQ</h2>

        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section class="inner">

      <p>These logs have been collected from the <a href="https://webchat.freenode.net/?randomnick=1&amp;channels=%23zeromq&amp;uio=d4" target="_blank">#zeromq</a> IRC channel on Freenode.</p>

      </section>
<div id="msgtablediv">
<div><a href="/zeromq-irclog/index.html">Home</a>&nbsp;&gt;&nbsp;<a href="/zeromq-irclog/logs/2013/11/index.html">Nov 2013</a></div>
<h3 id="titleDate" data-time="1384867801">Tuesday November 19th 2013</h3>
<table id="msgtable">
<tr id="msgtableHead"><td>Time*</td><td>Nickname</td><td>Message</td></tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-1">[<span class="ts" data-time="1384819068">01:40</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">hum there is no channel logs available since Nov 2011&quest; :&lpar;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-2">[<span class="ts" data-time="1384819664">01:40</span>]</a></td><td class="nicktd" style="color: darkorange">martin&UnderBar;kou</td>
		<td class="msgtd">hi guys</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-3">[<span class="ts" data-time="1384819672">01:40</span>]</a></td><td class="nicktd" style="color: darkorange">martin&UnderBar;kou</td>
		<td class="msgtd">got a question about DEALER / ROUTER sockets</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-4">[<span class="ts" data-time="1384819706">01:40</span>]</a></td><td class="nicktd" style="color: darkorange">martin&UnderBar;kou</td>
		<td class="msgtd">I&apos;d like my ROUTER to keep track of the DEALERs that are available to talk to</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-5">[<span class="ts" data-time="1384819726">01:40</span>]</a></td><td class="nicktd" style="color: darkorange">martin&UnderBar;kou</td>
		<td class="msgtd">so&comma; I&apos;d need some way for the ROUTER to know whether a DEALER address is still valid</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-6">[<span class="ts" data-time="1384819731">01:40</span>]</a></td><td class="nicktd" style="color: darkorange">martin&UnderBar;kou</td>
		<td class="msgtd">is there some way I an do that&quest;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-7">[<span class="ts" data-time="1384820483">01:40</span>]</a></td><td class="nicktd" style="color: magenta">minrk</td>
		<td class="msgtd">you can use monitoring events to notice when a peer comes and goes</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-8">[<span class="ts" data-time="1384820492">01:40</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">damn irc client. I&apos;ve lost the link pieter sent me about reimplementing pub-sub in a locking manner using dealers</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-9">[<span class="ts" data-time="1384820814">01:40</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">ok so with a router and &apos;n&apos; dealers&comma; by setting the right identities&comma; I can send a message to a specific dealer by prefixing the identity as the first frame</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-10">[<span class="ts" data-time="1384820837">01:40</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">this is good for routing&comma; but not enough for broadcasting </td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-11">[<span class="ts" data-time="1384820853">01:40</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">and router still drops frames I think</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-12">[<span class="ts" data-time="1384833432">01:40</span>]</a></td><td class="nicktd" style="color: fuchsia">Dr&lcub;Who&rcub;</td>
		<td class="msgtd">Anyone here grok the node.js wrapper&quest; I dont see where the events are created for &apos;message&apos; and such. I want to see all of the event emitter types but cant seem to find them in the code. </td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-13">[<span class="ts" data-time="1384843271">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">shancat: hi there</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-14">[<span class="ts" data-time="1384843291">01:40</span>]</a></td><td class="nicktd" style="color: olive">shancat</td>
		<td class="msgtd">morning :&rpar;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-15">[<span class="ts" data-time="1384843307">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">good afternoon</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-16">[<span class="ts" data-time="1384843347">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">I think we usually use the builds/android directory to prepare the stack&comma; there&apos;s a script there &apos;build.sh&apos;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-17">[<span class="ts" data-time="1384843392">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">the current one is taken from czmq &lpar;generated&comma; but I&apos;ll switch that off so we can modify it by hand&rpar;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-18">[<span class="ts" data-time="1384843557">01:40</span>]</a></td><td class="nicktd" style="color: olive">shancat</td>
		<td class="msgtd">keep in mind that because the paths are hardcoded in Android.mk we can&apos;t build differently for Travis</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-19">[<span class="ts" data-time="1384843577">01:40</span>]</a></td><td class="nicktd" style="color: olive">shancat</td>
		<td class="msgtd">so if we put the deps into another directory the travis file will have to do it too</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-20">[<span class="ts" data-time="1384843582">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">ack&comma; so I suggest we do all that work in builds/android&quest;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-21">[<span class="ts" data-time="1384843593">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">then the travis script can call that build.sh</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-22">[<span class="ts" data-time="1384843597">01:40</span>]</a></td><td class="nicktd" style="color: olive">shancat</td>
		<td class="msgtd">sure</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-23">[<span class="ts" data-time="1384843616">01:40</span>]</a></td><td class="nicktd" style="color: olive">shancat</td>
		<td class="msgtd">it&apos;ll make the travis script cleaner which is a bonus</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-24">[<span class="ts" data-time="1384843620">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">yes</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-25">[<span class="ts" data-time="1384843638">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">it should really be builds/jni I think but hey</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-26">[<span class="ts" data-time="1384843676">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">I can&apos;t actually see where the jni toolchain comes into play</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-27">[<span class="ts" data-time="1384843693">01:40</span>]</a></td><td class="nicktd" style="color: olive">shancat</td>
		<td class="msgtd">what do you mean&quest;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-28">[<span class="ts" data-time="1384843730">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">i&apos;m confused&comma; it&apos;s a single step to build for Android&comma; I thought it was two steps &lpar;jni&comma; then android&rpar;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-29">[<span class="ts" data-time="1384843752">01:40</span>]</a></td><td class="nicktd" style="color: olive">shancat</td>
		<td class="msgtd">it is two steps</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-30">[<span class="ts" data-time="1384843753">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">I know we can also build and test on linux / jni without android but it&apos;s a separate make process</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-31">[<span class="ts" data-time="1384843755">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">it is&quest;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-32">[<span class="ts" data-time="1384843764">01:40</span>]</a></td><td class="nicktd" style="color: olive">shancat</td>
		<td class="msgtd">ndk-build builds the JNI part</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-33">[<span class="ts" data-time="1384843775">01:40</span>]</a></td><td class="nicktd" style="color: olive">shancat</td>
		<td class="msgtd">ant builds the android part and links the JNI lib</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-34">[<span class="ts" data-time="1384843784">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">aha claro</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-35">[<span class="ts" data-time="1384854888">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">re</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-36">[<span class="ts" data-time="1384858296">01:40</span>]</a></td><td class="nicktd" style="color: darkorchid">PSG&UnderBar;Sakari</td>
		<td class="msgtd">Hi folks&comma; I use zeromq for most of my networking needs&comma; however&comma; for a small part of it&comma; I need udp. Are there any good udp based libs around &quest; &lpar;Note: I&apos;m using C&num;&rpar;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-37">[<span class="ts" data-time="1384859095">01:40</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">morning pieterh </td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-38">[<span class="ts" data-time="1384859118">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">PSG&UnderBar;Sakari: there is some sample Windows UDP code in C&comma; in CZMQ/zbeacon</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-39">[<span class="ts" data-time="1384859124">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">davipt: hi there</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-40">[<span class="ts" data-time="1384859164">01:40</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">hi gang :&rpar;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-41">[<span class="ts" data-time="1384859165">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">you were looking for something to do with pub-sub&quest;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-42">[<span class="ts" data-time="1384859178">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">taotetek: hi there :&rpar;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-43">[<span class="ts" data-time="1384859243">01:40</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">pieter: I&apos;m trying to mix the best of pub-sub with push-pull&comma; meaning trying to get the clients subscribing to parts of the stream&comma; having the messages going to multiple destinations&comma; but trying to loose as little as possible&comma; even if it means blocking the socket</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-44">[<span class="ts" data-time="1384859314">01:40</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">may need to duplicate the subsribe/unsubscripe messages&comma; as well as the &quot;hold&quot; from push&comma; with two dealer endpoints it seems</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-45">[<span class="ts" data-time="1384859428">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">davipt: I&apos;d look at the Harmony pattern from Ch8</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-46">[<span class="ts" data-time="1384859496">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">it&apos;s not really what you&apos;re describing but it&apos;s close</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-47">[<span class="ts" data-time="1384859544">01:40</span>]</a></td><td class="nicktd" style="color: darkolivegreen">mechro</td>
		<td class="msgtd">pieterh: i&apos;ve read your article on ZMQ and TIPC and it&apos;s excellent&comma; i have it up and running. however i&apos;ve a quick question if you know - i didn&apos;t have much time to read everything about tipc but what caught my eye was max. message size</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-48">[<span class="ts" data-time="1384859570">01:40</span>]</a></td><td class="nicktd" style="color: darkolivegreen">mechro</td>
		<td class="msgtd">does that mean TIPC is limited ~64kb or is it some internal mechanism that has the limitation&gt;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-49">[<span class="ts" data-time="1384859580">01:40</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">the push pull is amazing&comma; just performs great &lpar;even in jero&rpar;&comma; and guarantees me the messages aren&apos;t dropped unnecessary</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-50">[<span class="ts" data-time="1384859608">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">yes&comma; but the routing pattern is rotation&comma; not duplication</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-51">[<span class="ts" data-time="1384859608">01:40</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">it&apos;s ok to loose some messages though</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-52">[<span class="ts" data-time="1384859622">01:40</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">I&apos;ve moved to the mesh pattern you told me</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-53">[<span class="ts" data-time="1384859633">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">mechro: 66000&NonBreakingSpace;bytes&comma; it&apos;s hard coded but as the article says you can fragment larger messages</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-54">[<span class="ts" data-time="1384859644">01:40</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">and until I get the control messages&comma; it even works brute-force style</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-55">[<span class="ts" data-time="1384859676">01:40</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">the push connects to a lot of ip/ports&comma; then the pull workers just start or stop in one or more of those ports</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-56">[<span class="ts" data-time="1384859681">01:40</span>]</a></td><td class="nicktd" style="color: darkolivegreen">mechro</td>
		<td class="msgtd">so basically i can use ZMQ to send multiple frames over TIPC if they don&apos;t exceed 66000 bytes&quest;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-57">[<span class="ts" data-time="1384859699">01:40</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">of course I&apos;d loose the hwm of the non connected ports&comma; but that is the kind of acceptable drop</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-58">[<span class="ts" data-time="1384859714">01:40</span>]</a></td><td class="nicktd" style="color: darkolivegreen">mechro</td>
		<td class="msgtd">reason i&apos;m asking is because i haven&apos;t tried it yet&comma; will do it within a few hours so sorry if it seems kinda dumb of a question :&rpar;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-59">[<span class="ts" data-time="1384859776">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">mechro: actually I don&apos;t see the article discussing max message size at all... strange</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-60">[<span class="ts" data-time="1384859826">01:40</span>]</a></td><td class="nicktd" style="color: darkolivegreen">mechro</td>
		<td class="msgtd">well&comma; it wasn&apos;t the article that mentioned it. there was a mention of message limitation in the TIPC protocol docs that my colleague caught</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-61">[<span class="ts" data-time="1384859865">01:40</span>]</a></td><td class="nicktd" style="color: darkolivegreen">mechro</td>
		<td class="msgtd">and naturally&comma; i haven&apos;t confirmed whether that means &quot;you can&apos;t send messages that are over 66000 bytes&quot; or something else. basically i&apos;d like to try to use TIPC to stream a file of unknown size and i don&apos;t know at this point whether i can do it or not :&lpar;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-62">[<span class="ts" data-time="1384859880">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">indeed... well&comma; seems unspecified in the zmq&UnderBar;tipc manpage</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-63">[<span class="ts" data-time="1384859906">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">however and in any case to stream a file over any protocol at all you have to do some kind of flow control</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-64">[<span class="ts" data-time="1384859922">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">multipart data isn&apos;t an answer&semi; the whole message is held in memory</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-65">[<span class="ts" data-time="1384859941">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">there is an explanation of how to send files in Ch7 of the Guide</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-66">[<span class="ts" data-time="1384859965">01:40</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">davipt: sounds right</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-67">[<span class="ts" data-time="1384860033">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">now if I switch to pub/sub&comma; the pub will grow up to the max speed of the machine bus&comma; or the mmaped file&comma; or jeromq&comma; or whatever&comma; well above 4Gbps&comma; but the sub will only see slightly less than those 2.5Gbps</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-68">[<span class="ts" data-time="1384860051">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">and as soon as I get more subs&comma; it just keeps on decreasing</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-69">[<span class="ts" data-time="1384860089">01:41</span>]</a></td><td class="nicktd" style="color: darkolivegreen">mechro</td>
		<td class="msgtd">pieterh:  thanks&comma; i&apos;ll re-read the Ch7 and test it out later</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-70">[<span class="ts" data-time="1384860155">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">davipt: you were looking at the performance of the zmq&UnderBar;proxy function&comma; right&quest;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-71">[<span class="ts" data-time="1384860165">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">yeah</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-72">[<span class="ts" data-time="1384860183">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">did you find anything&quest;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-73">[<span class="ts" data-time="1384860183">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">still haven&apos;t understood what the problem is... or better&comma; it&apos;s surely something with the polling</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-74">[<span class="ts" data-time="1384860213">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">I&apos;ve implemented the proxy as stated on the code connected 1 book</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-75">[<span class="ts" data-time="1384860221">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">in straight c</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-76">[<span class="ts" data-time="1384860223">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">using the zmq&UnderBar;proxy&lpar;fronted&comma; backend&comma; null&rpar;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-77">[<span class="ts" data-time="1384860235">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">ah&comma; that calls the internal loop</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-78">[<span class="ts" data-time="1384860245">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">then picked the example of the proxy from the book&comma; the whole while&lpar;true&rpar; &lcub; poll both sockets&comma; copy from one to the other</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-79">[<span class="ts" data-time="1384860256">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">right</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-80">[<span class="ts" data-time="1384860262">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">which is literally the code inside the zmq&UnderBar;proxy&comma; except the capture and controller part</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-81">[<span class="ts" data-time="1384860272">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">then I&apos;ve tried a one-way proxy</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-82">[<span class="ts" data-time="1384860290">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">just receiving from one side and pushing to the other</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-83">[<span class="ts" data-time="1384860296">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">right&comma; without a poll at all</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-84">[<span class="ts" data-time="1384860307">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">loosing the hold on control from push&comma; or faking the subscribe for pub</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-85">[<span class="ts" data-time="1384860311">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">and it flies</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-86">[<span class="ts" data-time="1384860330">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">then I tried to outsmart the system by creating two threads&comma; each reading from one side and writing to the other</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-87">[<span class="ts" data-time="1384860334">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">didn&apos;t like me</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-88">[<span class="ts" data-time="1384860335">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">:D</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-89">[<span class="ts" data-time="1384860337">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">heh</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-90">[<span class="ts" data-time="1384860342">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">socket sharing</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-91">[<span class="ts" data-time="1384860373">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">yeah&comma; but I had some hope that because one thread would &midast;only&midast; read and the other would &midast;only&midast; write&comma; it could work</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-92">[<span class="ts" data-time="1384860387">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">hehe... if only</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-93">[<span class="ts" data-time="1384860399">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">so using zmq&UnderBar;poll seems to interfere with batching</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-94">[<span class="ts" data-time="1384860423">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">&quot;don&apos;t cross the streams&excl;&quot; - ghost busters &semi;&rpar;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-95">[<span class="ts" data-time="1384860513">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd"><a href="https://github.com/davipt/libzmq/tree/fix-002-proxy&UnderBar;lat&UnderBar;thr">https://github.com/davipt/libzmq/tree/fix-002-proxy&UnderBar;lat&UnderBar;thr</a></td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-96">[<span class="ts" data-time="1384860582">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">I&apos;ve tweaked local&UnderBar;thr and remote&UnderBar;thr to also accept pub/sub&comma; to allow both to connect instead of binding&comma; to send a counter on the message so the other can check if all is ok&comma; and a proxy.cpp version</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-97">[<span class="ts" data-time="1384860623">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">so this way I can compare the C performance of push/pull&comma; pub/sub&comma; and then check via proxy</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-98">[<span class="ts" data-time="1384861159">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">right... and jeromq doesn&apos;t have this issue as far as you can tell&quest;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-99">[<span class="ts" data-time="1384861257">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">nope</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-100">[<span class="ts" data-time="1384861282">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">this is both interesting and somewhat freaky</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-101">[<span class="ts" data-time="1384861302">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">I mean&comma; it has some possible optimizations to improve the polling and memory copying - hence why it gives me 2.5Gbps whilst the C code gives me 5Gbps</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-102">[<span class="ts" data-time="1384861374">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">grab my branch&comma; compile &lpar;don&apos;t install&rpar;&comma; and run:</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-103">[<span class="ts" data-time="1384861385">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">I can&apos;t read C&plus;&plus; well enough to follow the libzmq core but this deserves more attention on the list</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-104">[<span class="ts" data-time="1384861404">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">presumably its on output batching</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-105">[<span class="ts" data-time="1384861407">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">./proxy tcp://127.0.0.1:5555 tcp://127.0.0.1:5556 &amp; ./local&UnderBar;thr tcp://127.0.0.1:5556 500 1000000 32 &amp; ./remote&UnderBar;thr tcp://127.0.0.1:5555 500 1000000 &amp;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-106">[<span class="ts" data-time="1384861434">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">could you create an issue&comma; and put your test code into the issues repo for that&quest;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-107">[<span class="ts" data-time="1384861435">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">uh&quest; /me confused isn&apos;t the libzmq your code&quest;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-108">[<span class="ts" data-time="1384861440">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">moi&quest;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-109">[<span class="ts" data-time="1384861447">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">I just help cut the grass</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-110">[<span class="ts" data-time="1384861452">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">lol</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-111">[<span class="ts" data-time="1384861544">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">accurately the code is the work of quite a few people&comma; see <a href="https://github.com/zeromq/libzmq/graphs/contributors">https://github.com/zeromq/libzmq/graphs/contributors</a></td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-112">[<span class="ts" data-time="1384861626">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">back&excl;  had to finish a blog post so my marketing guy won&apos;t hound me.</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-113">[<span class="ts" data-time="1384861642">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">I get that a lot too...</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-114">[<span class="ts" data-time="1384861652">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">damn colloquy crashes if I move the cursor back to fix text :&lpar;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-115">[<span class="ts" data-time="1384861658">01:41</span>]</a></td><td class="nicktd" style="color: darkviolet">guido&UnderBar;g</td>
		<td class="msgtd">pieterh: but you have to accept that you&apos;re the front man of the band  :&rpar;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-116">[<span class="ts" data-time="1384861689">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">was saying - already sent the email to the list&comma; already made my github fork to test it&comma; now I need to concentrate on what really matters &semi;&rpar;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-117">[<span class="ts" data-time="1384861709">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">guido&UnderBar;g: I reject that totally&comma; I&apos;m the guy sitting in the front row with a large whiskey&comma; watching the party from a safe distance</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-118">[<span class="ts" data-time="1384861729">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">so we are discussing zmq&UnderBar;poll in libzmq having interesting performance characteristics&quest;  Just catching up.</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-119">[<span class="ts" data-time="1384861733">01:41</span>]</a></td><td class="nicktd" style="color: darkviolet">guido&UnderBar;g</td>
		<td class="msgtd">sure... that&apos;s exactly what you do...  &semi;&rpar;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-120">[<span class="ts" data-time="1384861746">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">taotetek: yes</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-121">[<span class="ts" data-time="1384861752">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">I... I think from empirical observation that is a lot of what he does...</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-122">[<span class="ts" data-time="1384861754">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd"><a href="https://github.com/davipt/libzmq/compare/fix-002-proxy&UnderBar;lat&UnderBar;thr">https://github.com/davipt/libzmq/compare/fix-002-proxy&UnderBar;lat&UnderBar;thr</a></td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-123">[<span class="ts" data-time="1384861768">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">taotetek: seems that in a heavy poll loop&comma; batching stops working on sent data</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-124">[<span class="ts" data-time="1384861784">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">I mean <a href="https://github.com/davipt/libzmq/tree/fix-002-proxy&UnderBar;lat&UnderBar;thr">https://github.com/davipt/libzmq/tree/fix-002-proxy&UnderBar;lat&UnderBar;thr</a></td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-125">[<span class="ts" data-time="1384861872">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">interesting - I don&apos;t normally dig into the guts of libzmq itself &lpar;C&plus;&plus; is not a strength of mine would be an understatement&rpar; ...</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-126">[<span class="ts" data-time="1384861883">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">but but but</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-127">[<span class="ts" data-time="1384861892">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">nobody uses the proxy patterns anymore&quest;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-128">[<span class="ts" data-time="1384861902">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">I do&excl; Hah.</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-129">[<span class="ts" data-time="1384861907">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">half of the code connected 1 book is outdated then&quest; :P</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-130">[<span class="ts" data-time="1384861923">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">I recently added the zproxy class to czmq&comma; which is a wrapper for zmq&UnderBar;proxy</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-131">[<span class="ts" data-time="1384861932">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">because I kind of assume that every binding should be wrapping the zmq&UnderBar;proxy C code&comma; so everybody is affected</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-132">[<span class="ts" data-time="1384861945">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">davipt: indeed though I suspect it&apos;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-133">[<span class="ts" data-time="1384861948">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">or of course I&apos;m doing something wrong&comma; which then I&apos;ll blame who wrote the book</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-134">[<span class="ts" data-time="1384861957">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">let me put a README on my branch</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-135">[<span class="ts" data-time="1384861965">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">it&apos;s been a while since people were hammering the proxy patterns in low latency cases over tcp</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-136">[<span class="ts" data-time="1384861976">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">I think the thing is that the polling hit I&apos;ve personally seen is along the lines of &quot;I was getting 4 million messages a second and I&apos;m now getting 2 million a second&quot;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-137">[<span class="ts" data-time="1384861983">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">no</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-138">[<span class="ts" data-time="1384862011">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">I get 5Gbps p2p&comma; I expect to see worst case half or one quarter over a proxy&comma; hence 2.5 or above 1Gbps</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-139">[<span class="ts" data-time="1384862015">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">it gives me 300Mbps</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-140">[<span class="ts" data-time="1384862015">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">this is an anecdotal statement on my part - I haven&apos;t dug into the hit from polling in a scientific manner.</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-141">[<span class="ts" data-time="1384862039">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">davipt: have you tried on older versions of zmq&quest;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-142">[<span class="ts" data-time="1384862046">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">nope</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-143">[<span class="ts" data-time="1384862053">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">it used to be called zmq&UnderBar;device but with much the same API</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-144">[<span class="ts" data-time="1384862054">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">I like bleeding edge</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-145">[<span class="ts" data-time="1384862074">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">me too yet it&apos;s good for comparison to see if this is a recent problem</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-146">[<span class="ts" data-time="1384862090">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">my colleague tried the nodejs binding&comma; and it seems to require zmq 3&comma; and crashes everywhere&comma; so we &quot;hacked it&quot; to run over zmq4 and now it works</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-147">[<span class="ts" data-time="1384862095">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">I&apos;m going to make a note for myself to play around with testing some of this - if I don&apos;t get to it before the weekend I can do it then.</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-148">[<span class="ts" data-time="1384862099">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">not enough time to debug bugs on older versions</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-149">[<span class="ts" data-time="1384862133">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">davipt: in any case we need to make a minimal self-contained test case</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-150">[<span class="ts" data-time="1384862167">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">yes I&apos;m putting it on the branch. I can&apos;t make a unit test&comma; I can only use the standard performance tests and tweak them</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-151">[<span class="ts" data-time="1384862189">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">give me a second&comma; then i&apos;ll ask you feedback from the instructions &lpar;which I sent on the email anyway&comma; but it&apos;s better to stay next to the code&rpar;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-152">[<span class="ts" data-time="1384862198">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">davipt: from C my anecdotal back of the napkin figure has been ~ 50&percnt; hit when polling - this weekend if not before I&apos;ll throw together some test cases in my lab around this and see what I see.</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-153">[<span class="ts" data-time="1384862210">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">would you make an issue so we can give this thing a number&quest;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-154">[<span class="ts" data-time="1384862233">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">davipt: hang on... random idea</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-155">[<span class="ts" data-time="1384862253">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">shancat suggested we should be using the github issue tracker</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-156">[<span class="ts" data-time="1384862287">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd"><a href="https://github.com/zeromq/libzmq/issues">https://github.com/zeromq/libzmq/issues</a></td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-157">[<span class="ts" data-time="1384862297">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">I&apos;ve enabled this and will define the usual tags</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-158">[<span class="ts" data-time="1384862297">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">yes I&apos;ll also add it to jira if I recall where it iss</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-159">[<span class="ts" data-time="1384862353">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">k</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-160">[<span class="ts" data-time="1384862529">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">back in a little bit - taking-kids-to-school-walking-dogs-time here&excl;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-161">[<span class="ts" data-time="1384862602">01:41</span>]</a></td><td class="nicktd" style="color: darkorchid">flarion</td>
		<td class="msgtd">hey guys&comma; </td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-162">[<span class="ts" data-time="1384862656">01:41</span>]</a></td><td class="nicktd" style="color: darkorchid">flarion</td>
		<td class="msgtd">i want to stream real-time data from my server to one or many android devices. the data needs to be ordered. minor package loss is tolerable. is zeromq the right choice for it&quest;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-163">[<span class="ts" data-time="1384863031">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd"><a href="https://github.com/zeromq/libzmq/issues/757">https://github.com/zeromq/libzmq/issues/757</a> good enough&quest;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-164">[<span class="ts" data-time="1384863068">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd"><a href="https://raw.github.com/davipt/libzmq/fix-002-proxy&UnderBar;lat&UnderBar;thr/perf/README.txt">https://raw.github.com/davipt/libzmq/fix-002-proxy&UnderBar;lat&UnderBar;thr/perf/README.txt</a></td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-165">[<span class="ts" data-time="1384863128">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">flarion: pub-sub would be great for that&comma; but that kind of pattern always implies some packet loss somewhere &lpar;I&apos;m currently struggling with that&rpar;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-166">[<span class="ts" data-time="1384863290">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">now back to my jeromq flying machine</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-167">[<span class="ts" data-time="1384863346">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">had a very nice scary moment this morning... don&apos;t do code at 1am :D</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-168">[<span class="ts" data-time="1384863371">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">was testing a pub-sub version with less drops&comma; via dealer&comma; and for tests had set my regular push/pull pub/sub code with HWM&equals;1</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-169">[<span class="ts" data-time="1384863390">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">so this morning ran the equivalent of local&UnderBar;thr and remote&UnderBar;thr and instead of 3Gbps&comma; was getting.... 30Mbps</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-170">[<span class="ts" data-time="1384863422">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">&gt;:&rpar; damn how one line can screw so much</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-171">[<span class="ts" data-time="1384863971">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">:&rpar;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-172">[<span class="ts" data-time="1384864044">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">I just realized&comma; the issue numbering in GitHub is already at 757&comma; thanks to all the pull requests</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-173">[<span class="ts" data-time="1384864068">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">the highest issue in Jira is 586</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-174">[<span class="ts" data-time="1384864279">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">davipt: bookmarked that issue&comma; if some hypothesis I want to test this week reveals anything interesting I&apos;ll add the info and test methodology there</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-175">[<span class="ts" data-time="1384864439">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">btw&comma; just for fun &semi;&rpar; I&apos;ve also added some java code over here <a href="https://github.com/davipt/zeromq-samples">https://github.com/davipt/zeromq-samples</a> with similar case. There is a jeromq&plus;java proxy Streamer and Forwarder&comma; and a code to push messages and one to consume them :D It&apos;s nice because I can run the same C test but instead of running the C proxy&comma; run the java proxy&comma; and the performance goes back to above 1Gbps instead of the 300Mbps</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-176">[<span class="ts" data-time="1384864626">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">davipt: which version of libzmq are you testing against by the way&quest; 4.x/head&quest;</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-177">[<span class="ts" data-time="1384864636">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">head</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-178">[<span class="ts" data-time="1384864650">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">my branch is fully synchronized with head</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-179">[<span class="ts" data-time="1384864662">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">davipt: I&apos;m asking because I know some functionality was added to zmq&UnderBar;proxy to have the proxy listen for command messages for doing things like pause / restart </td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-180">[<span class="ts" data-time="1384864671">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">yes</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-181">[<span class="ts" data-time="1384864680">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">but it doesn&apos;t affect</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-182">[<span class="ts" data-time="1384864694">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">davipt: ok cool </td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-183">[<span class="ts" data-time="1384864710">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">that&apos;s why I&apos;ve copied the code from the book&comma; which is exactly the same on the zmq&UnderBar;proxy implementation&comma; except the capture and control part</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-184">[<span class="ts" data-time="1384864718">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">I&apos;ve double checked it line by line</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-185">[<span class="ts" data-time="1384864747">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">I still don&apos;t recall seeing this much of a hit with proxy last time I did a real test which was with 3 - so I might do a little test matrix of using zproxy in czmq against a few different versions of libzmq out of curiosity.</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-186">[<span class="ts" data-time="1384864756">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">on my perf/proxy.cpp&comma; commenting out the zmq&UnderBar;proxy &lpar;attempt 1&rpar; and uncommenting the next block &lpar;attempt 2&rpar; will use the loop poll version&comma; same performance</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-187">[<span class="ts" data-time="1384864786">01:41</span>]</a></td><td class="nicktd" style="color: darkred">taotetek</td>
		<td class="msgtd">I could be remembering incorrectly so I&apos;ll get numbers this week when I&apos;m able.</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-188">[<span class="ts" data-time="1384864798">01:41</span>]</a></td><td class="nicktd" style="color: black">davipt</td>
		<td class="msgtd">as attempt4 is while&lpar;true&rpar; backend.send&lpar;frontend.read&rpar;&rpar; &lpar;plus the more&rpar; and this one scales&comma; it must be related to the poller of the proxy</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-189">[<span class="ts" data-time="1384867382">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">davipt: IO&apos;</td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-190">[<span class="ts" data-time="1384867386">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd">I&apos;ve made a test case</td>
	</tr>
	<tr class="light">
		<td class="timetd"><a href="#msg-191">[<span class="ts" data-time="1384867394">01:41</span>]</a></td><td class="nicktd" style="color: darkgreen">pieterh</td>
		<td class="msgtd"><a href="https://github.com/zeromq/issues/tree/master/757">https://github.com/zeromq/issues/tree/master/757</a></td>
	</tr>
	<tr class="dark">
		<td class="timetd"><a href="#msg-192">[<span class="ts" data-time="1384867451">01:41</span>]</a></td><td class="nicktd" style="color: olive">shancat</td>
		<td class="msgtd">damn forgot to launch irssi in screen. brb</td>
	</tr>
</table>
<p id="timeinfo">*Times are in UTC</p>
</div>
<script src="/zeromq-irclog/javascripts/time.js"></script>
    </div>


    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Zeromq-irclog maintained by <a href="https://github.com/porjo">porjo</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
